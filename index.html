<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SbobinaMente - Appunti e PDF Protetti</title>
    <link rel="stylesheet" href="styles.css">

    <!-- Nuovi meta per pubblicazione -->
    <link rel="canonical" href="https://sbobinamente.it/">
    <meta name="description" content="SbobinaMente â€” appunti e PDF protetti selezionati e verificati. Compra o vendi appunti di qualitÃ  per studiare meglio.">
    <meta name="robots" content="index, follow">
    <meta property="og:type" content="website">
    <meta property="og:title" content="SbobinaMente - Appunti e PDF Protetti">
    <meta property="og:description" content="Appunti verificati e PDF protetti per studiare in modo efficace. Scopri le lezioni e acquista anteprime sicure.">
    <meta property="og:url" content="https://sbobinamente.it/">
    <meta property="og:image" content="https://sbobinamente.it/image/copertina.jpg">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta name="theme-color" content="#f5a6c9">
</head>
<body>
    <!-- Header e Navigazione -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <h1>SbobinaMente</h1>
                    <p class="tagline">Appunti e PDF Protetti</p>
                </div>
                <nav class="nav">
                    <a href="#home" class="nav-link">Home</a>
                    <a href="lezioni.html" class="nav-link">Lezioni</a>
                    <a href="chi-siamo.html" class="nav-link">Chi Siamo</a>
                    <a href="#" class="nav-link" id="cartLink">ðŸŽ’ Zaino <span class="cart-count">0</span></a>
                    <a href="#" class="nav-link" id="userLink">Accedi</a>
                </nav>
            </div>
        </div>
    </header>

    <!-- Hero Section: Blocco Rosa Pastello -->
    <section class="block block-pink hero" id="home">
        <div class="container">
            <div class="hero-content">
                <img src="image/copertina.jpg" alt="Copertina SbobinaMente" style="max-width: 820px; width: 100%; height: auto; margin: 0 auto 30px; display: block; border-radius: 10px; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
                <h2>Appunti da 30L â€” Studia meglio, non di piÃ¹.</h2>
                <p style="max-width: 800px; margin: 20px auto; line-height: 1.8; font-size: 18px;">
                    Siamo due studenti universitari di Firenze che, dopo anni di esami, nottate e strategie di studio affinate sul campo, abbiamo capito una cosa semplice: per prendere 30 e lode non serve studiare tanto, ma <strong>studiare bene</strong>.
                </p>
                <p style="max-width: 800px; margin: 20px auto; line-height: 1.8; font-size: 18px;">
                    Per questo abbiamo creato uno spazio dove puoi <strong>comprare e vendere appunti di alta qualitÃ </strong>, tutti letti, controllati e corretti prima di essere pubblicati. Materiali chiari, completi e pronti all'uso, pensati per farti risparmiare tempo e migliorare davvero il tuo metodo.
                </p>
                <p style="max-width: 800px; margin: 20px auto; line-height: 1.8; font-size: 18px;">
                    Che tu stia preparando un esame tosto, recuperando lezioni perse o semplicemente cercando appunti fatti come si deve, qui trovi tutto ciÃ² che ti serve per arrivare al livello successivo.
                </p>
                <div style="max-width: 800px; margin: 40px auto; padding: 30px; background: rgba(255,255,255,0.4); border-radius: 10px;">
                    <h3 style="margin-bottom: 20px;">PerchÃ© scegliere noi?</h3>
                    <ul style="text-align: left; list-style: none; padding: 0;">
                        <li style="margin: 15px 0; font-size: 17px;">âœ… Appunti verificati e di qualitÃ  garantita</li>
                        <li style="margin: 15px 0; font-size: 17px;">âœ… Contenuti creati da studenti che puntano al massimo</li>
                        <li style="margin: 15px 0; font-size: 17px;">âœ… Una community che valorizza il tuo lavoro</li>
                        <li style="margin: 15px 0; font-size: 17px;">âœ… Un metodo che funziona: studiare bene Ã¨ la vera forza</li>
                    </ul>
                </div>
                <p style="max-width: 800px; margin: 30px auto; font-size: 18px; font-weight: 600;">
                    Entra, scopri gli appunti perfetti per te e inizia subito a studiare meglio.
                </p>
                <a href="lezioni.html" class="btn btn-primary" style="margin-top: 20px; font-size: 18px; padding: 15px 40px;">Esplora le Lezioni</a>
            </div>
        </div>
    </section>

    <!-- Blocco Azzurro -->
    <section class="block block-blue" id="focus">
        <div class="container">
            <h2 style="text-align:center; margin-bottom: 24px; color: #f5a6c9;">Cosa trovi qui</h2>
            <p style="max-width: 900px; margin: 0 auto 28px; text-align: center;">Appunti chiari, pronti e protetti. Anteprima della prima pagina, pagamento sicuro e accesso con password.</p>
            <div style="max-width: 900px; margin: 0 auto; display: grid; gap: 18px;">
                <div style="background: white; border-radius: 12px; padding: 18px 20px; box-shadow: 0 6px 18px rgba(0,0,0,0.05);">
                    <strong>PDF Protetti</strong><br>Visualizzi, studi e non scarichi direttamente.
                </div>
                <div style="background: white; border-radius: 12px; padding: 18px 20px; box-shadow: 0 6px 18px rgba(0,0,0,0.05);">
                    <strong>Anteprima Immediata</strong><br>Vedi la prima pagina per scegliere con sicurezza.
                </div>
                <div style="background: white; border-radius: 12px; padding: 18px 20px; box-shadow: 0 6px 18px rgba(0,0,0,0.05);">
                    <strong>Appunti Selezionati</strong><br>Materiali letti e controllati da studenti di Giurisprudenza.
                </div>
            </div>
        </div>
    </section>

    <!-- Blocco Giallo -->
    <section class="block block-yellow" id="cta">
        <div class="container" style="text-align:center;">
            <h2>Pronto a studiare meglio?</h2>
            <p style="max-width: 820px; margin: 0 auto 24px;">Scegli la materia che ti serve, accedi all'anteprima e acquista il PDF protetto. Se vuoi vendere i tuoi appunti di qualitÃ , scrivici.</p>
            <div style="display:flex; gap:12px; justify-content:center; flex-wrap:wrap;">
                <a href="lezioni.html" class="btn btn-primary" style="padding: 14px 32px;">Vai alle Lezioni</a>
                <a href="mailto:info@sbobinamente.it" class="btn btn-secondary" style="padding: 14px 32px;">Collabora con noi</a>
            </div>
        </div>
    </section>

    <!-- Modal Carrello -->
    <div id="cartModal" class="modal">
        <div class="modal-content modal-lg">
            <span class="close" onclick="closeCart()">&times;</span>
            <h2>ðŸŽ’ Zaino</h2>
            <div class="cart-discount-summary"></div>
            <div class="cart-items" id="cartItems">
                <p class="empty-message">Il carrello Ã¨ vuoto</p>
            </div>
            <div class="cart-summary">
                <div class="summary-row">
                    <span>Totale:</span>
                    <span class="total-price">0â‚¬</span>
                </div>
                <button class="btn btn-primary" onclick="proceedToCheckout()">Procedi al Pagamento</button>
            </div>
        </div>
    </div>

    <!-- Modal Prodotto -->
    <div id="productModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeProductModal()">&times;</span>
            <div class="product-detail" id="productDetail">
                <!-- Dettagli prodotto via JavaScript -->
            </div>
        </div>
    </div>

    <!-- Modal Login/Registrazione -->
    <div id="authModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeAuth()">&times;</span>
            <div class="auth-container" id="authContainer">
                <!-- Form di login/registrazione via JavaScript -->
            </div>
        </div>
    </div>

    <!-- Modal Checkout -->
    <div id="checkoutModal" class="modal">
        <div class="modal-content modal-lg">
            <span class="close" onclick="closeCheckout()">&times;</span>
            <h2>ðŸ’³ Pagamento</h2>
            <div id="checkoutContainer">
                <!-- Stripe Payment Form via JavaScript -->
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <p>&copy; 2025 SbobinaMente. Tutti i diritti riservati.</p>
            <p>Per domande: <a href="mailto:info@sbobinamente.it">info@sbobinamente.it</a></p>
        </div>
    </footer>

    <!-- Supabase Client -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="supabase-config.js"></script>

    <!-- Firebase Authentication -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="firebase-auth.js"></script>

    <!-- Stripe Payment -->
    <script src="https://js.stripe.com/v3/"></script>
    <script src="stripe-payment.js"></script>

    <!-- API Client (Netlify Functions) -->
    <script src="api-client.js"></script>

    <!-- WhatsApp Notifications -->
    <script src="whatsapp-notifications.js"></script>

    <!-- EmailJS Library -->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
    <script type="text/javascript">
        emailjs.init('Bo-Kyor5W-Q_BRDf3');
    </script>

    <script src="products-data.js"></script>
    <script src="email-service.js"></script>
    <script src="app.js"></script>
    <script src="paypal-handler.js"></script>

    <!--
  SURGE DEPLOY (istruzioni rapide)

  1) Se non serve build (siti statici nella root)
     # usa npx per evitare install globale
     npx surge ./ --domain sbobinamente.surge.sh

  2) Se hai un build step (es: crea cartella build/ o dist/)
     npm install
     npm run build
     # poi pubblica la cartella di output:
     npx surge build/ --domain sbobinamente.surge.sh

  3) Usare un dominio custom (sbobinamente.it)
     - Puoi passare --domain sbobinamente.it direttamente:
       npx surge build/ --domain sbobinamente.it
     - Oppure pubblica prima su sbobinamente.surge.sh, poi aggiungi il dominio dalla dashboard Surge.
     - Surge mostrerÃ  istruzioni DNS se necessario; segui quelle per configurare A/CNAME.

  4) Primo login Surge (se richiesto)
     npx surge
     # ti verrÃ  chiesto email/password per creare/collegare account

  5) Aggiornare il sito
     # esegui di nuovo lo stesso comando (surge sovrascrive)
     npx surge ./ --domain sbobinamente.surge.sh

  Esempio completo (con build):
     npm install
     npm run build
     npx surge build/ --domain sbobinamente.surge.sh

  Note:
   - Se vuoi un CNAME file: crea file 'CNAME' nella root con il contenuto:
       sbobinamente.it
     e poi esegui surge sulla root o sulla build/.
   - Se hai bisogno, posso generare un file CNAME o uno script npm "deploy:surge".
-->

<!--
  TROUBLESHOOT SURGE / DOMINIO (checklist rapida)

  1) Verifica account Surge e ultimo deploy
     npx surge whoami
     # vedi l'email collegata; se nulla, esegui:
     npx surge               # ti chiederÃ  login

  2) Controlla che il deploy sia andato a buon fine
     # se hai usato la root:
     npx surge ./ --domain sbobinamente.surge.sh
     # se hai build output:
     npx surge build/ --domain sbobinamente.surge.sh

     Osserva l'output in terminal: Surge stampa "Success! Project is published..." con l'URL.

  3) Controlla risposta HTTP del dominio (status / header)
     curl -I https://sbobinamente.it
     curl -I https://sbobinamente.surge.sh
     # se ricevi 200 o 301 => server raggiungibile; 404/500 indica problema deployment/path.

  4) Verifica risoluzione DNS e propagazione (dominio custom)
     # mostra quali record risolvono ora
     dig +short sbobinamente.it
     nslookup sbobinamente.it

     Se non risolve, aggiorna i record DNS secondo le istruzioni Surge (CNAME o A) e attendi la propagazione.

  5) Controlla console / Network nel browser
     - Apri DevTools (F12) -> Network -> ricarica.
     - Verifica che index.html venga caricato e che CSS/JS/immagini non diano 404.
     - Eventuali errori JS possono impedire il rendering.

  6) Percorso file errato
     - Assicurati che index.html sia nella cartella pubblicata (root o build/).
     - Percorsi relativi in HTML (es: image/copertina.jpg) devono essere presenti sul server.

  7) SSL / HTTPS
     - Con dominio custom Surge puÃ² richiedere qualche minuto/ora per emettere certificato.
     - Se https non funziona ma http sÃ¬, attendi o controlla le impostazioni DNS.

  8) Ripubblicare per correggere
     - Se hai trovato che hai caricato la cartella sbagliata, ripubblica con cartella corretta:
       npx surge path/to/public/ --domain sbobinamente.it

  9) Fornisci output
     - Incolla qui i risultati di:
         npx surge whoami
         curl -I https://sbobinamente.it
         dig +short sbobinamente.it
     e controllo io cosa non va.

  Note veloci:
   - Se vedi pagina "project not found" o 404 da Surge: probabilmente pubblicata cartella vuota o index assente.
   - Per creare CNAME: aggiungi file 'CNAME' con "sbobinamente.it" nella cartella pubblicata e poi esegui surge.
-->
</body>
</html>
<form action="http://localhost:4242/checkout" method="POST">
  <button type="submit">Paga</button>
</form>

line_items: [{
  # Provide the exact Price ID (for example, price_1234) of the product you want to sell
  price: '{{PRICE_ID}}',
  quantity: 1,
}],
mode: {{CHECKOUT_MODE}},
success_url: <SbobinaMente class="IT"></SbobinaMente> + '/success.html',
redirect session.url, 303
